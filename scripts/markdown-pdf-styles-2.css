/* styles/style.css — Pandoc-friendly, sans-serif, ToC cliquable, décorations sobres */

/* --------- Page / Typo --------- */
@page {
  margin: 1cm 1cm 1cm 1cm;
  size: A4;
}

:root {
  --text: #333333;
  --muted: #6b7280;
  --accent: #0056b3;          /* h1 + liens */
  --accent-2: #2c3e50;        /* h2 */
  --accent-soft: #e6f0fb;     /* fonds légers */
  --rule: #d8dee9;            /* filets / bordures */
  --code-bg: #f8f9fa;
  --pre-bg: #f4f4f4;
}

html, body {
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica", Arial, "Noto Sans", "Liberation Sans", sans-serif;
  font-size: 11pt;
  line-height: 1.5;
  color: var(--text);
  margin: 0;
  padding: 0;
}

body {
  max-width: 800px;
  margin: 0 auto;
  padding: 0 12px;
}

/* --------- Liens --------- */
a { color: var(--accent); text-decoration: none; }
a:hover { text-decoration: underline; }
a:visited { color: var(--accent); }

/* --------- Table des matières ---------
   Pandoc génère <nav id="TOC"> … </nav>.
   On supporte aussi .table-of-contents si tu y tiens.
----------------------------------------- */
#TOC, .table-of-contents {
  page-break-after: always;
  margin: 0 0 2em 0;
  padding: 1rem;
  border: 1px solid var(--rule);
  border-radius: 8px;
  background: #fff;
}

/* Titre de la ToC : Pandoc met un <h2> par défaut si -s */
#TOC > h1, #TOC > h2,
.table-of-contents > h1, .table-of-contents > h2 {
  margin: 0 0 .6em 0;
  padding-bottom: .4em;
  border-bottom: 2px solid var(--text);
}

/* Liste ToC (niveaux) */
#TOC ul, .table-of-contents ul {
  list-style: none;
  padding-left: 0;
  margin: 0;
}

#TOC li, .table-of-contents li {
  margin: .25em 0;
  padding-left: 1.5em;   /* pour l'indentation + retrait suspendu */
  text-indent: -1.5em;
}

/* Niveau 1 — plus affirmé */
#TOC > ul > li,
.table-of-contents .toc-level-1 {
  font-weight: 600;
  font-size: 1.05em;
  margin-top: .5em;
}

/* Niveau 2 — petite décoration élégante (bordure gauche) */
#TOC ul ul > li,
.table-of-contents .toc-level-2 {
  padding-left: 1.2em;
  border-left: 3px solid var(--rule);
  margin-left: .3em;
}

/* Niveau 3 — plus discret */
#TOC ul ul ul > li,
.table-of-contents .toc-level-3 {
  padding-left: 1.6em;
  font-size: 0.95em;
  color: var(--muted);
  border-left: 2px solid var(--rule);
}

/* Liens dans la ToC */
#TOC a, .table-of-contents a {
  color: inherit;
  text-decoration: none;
}
#TOC a:hover, .table-of-contents a:hover {
  text-decoration: underline;
}

/* --------- Titres de contenu --------- */
h1 {
  color: var(--accent);
  font-size: 20pt;
  border-bottom: 2pt solid var(--accent);
  padding-bottom: 6pt;
  margin: 0;
}
* + h1 { margin-top: 24pt; }

h2 {
  color: var(--accent-2);
  font-size: 16pt;
  border-left: 4pt solid #3498db;
  padding-left: 10pt;
  margin: 18pt 0 8pt 0;
}
* + h2 { margin-top: 20pt; }

h3 {
  font-size: 13pt;
  color: var(--accent-2);
  margin: 14pt 0 6pt 0;
  padding-left: 6pt;
  border-left: 3pt solid var(--rule);
}

/* --------- Paragraphes / listes --------- */
p { margin: .6em 0; }
ul, ol { margin: .6em 0 .6em 1.4em; }
li > p { margin: .25em 0; }

/* Petites bordures élégantes pour les listes de 2e niveau */
ul ul > li, ol ol > li {
  border-left: 3px solid var(--rule);
  padding-left: .6em;
  margin-left: .2em;
}

/* --------- Code --------- */
code {
  background-color: var(--code-bg);
  padding: 2px 4px;
  border-radius: 3px;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, "DejaVu Sans Mono", Consolas, "Liberation Mono", "Courier New", monospace;
  font-size: 0.9em;
}

pre code {
  display: block;
  padding: 10px;
  overflow: auto;
  border: 1px solid #ddd;
  background-color: var(--pre-bg);
  border-radius: 6px;
}

/* --------- Images / diagrammes --------- */
img {
  display: block;
  margin: 1rem auto;
  max-width: 100%;
  height: auto;
}

/* --------- Contrôle des sauts de page (CSS Paged / WeasyPrint) --------- */
/* Utiles si tu génères un PDF depuis HTML avec weasyprint/pagedjs */
.page-break-before { page-break-before: always !important; break-before: page !important; }
.page-break-after  { page-break-after:  always !important; break-after:  page !important; }
.no-break, .keep-together, .mermaid { page-break-inside: avoid !important; break-inside: avoid !important; }
/* Éviter de séparer titre et contenu */
h1, h2, h3 { page-break-after: avoid; break-after: avoid; }

/* --------- Tables --------- */
table {
  border-collapse: collapse;
  width: 100%;
  margin: 1em 0;
  font-size: 0.95em;
}
th, td {
  border: 1px solid var(--rule);
  padding: .5em .6em;
  vertical-align: top;
}
thead th {
  background: var(--accent-soft);
  font-weight: 600;
}
tbody tr:nth-child(even) td {
  background: #fafbfc;
}

/* --------- Blocs d'info --------- */
blockquote {
  margin: 1em 0;
  padding: .6em .8em;
  border-left: 4px solid #3498db;
  background: #f7fbff;
}

/* --------- Petites classes utilitaires --------- */
.small { font-size: 0.9em; }
.muted { color: var(--muted); }
.hr { height: 1px; background: var(--rule); border: 0; margin: 1em 0; }